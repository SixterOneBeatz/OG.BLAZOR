@page "/Agregar"
@using OG.BLAZOR.ENTITIES
@inject OG.BLAZOR.UI.Data.PersonaService PersonaService
@inject NavigationManager navigationManager
<h3>Agregar</h3>
<EditForm Model="persona">
    <div class="container">
        <div class="row">
            <div class="form-group col-3">
                <label>Nombre:</label>
                <input class="form-control" type="text" @bind="@persona.Nombre" />
            </div>
            <div class="form-group col-3">
                <label>Apellido paterno:</label>
                <input class="form-control" type="text" @bind="@persona.AP" />
            </div>
            <div class="form-group col-3">
                <label>Apellido materno:</label>
                <input class="form-control" type="text" @bind="@persona.AM" />
            </div>
            <div class="form-group col-3">
                <label>Edad:</label>
                <input class="form-control" type="number" @bind="@persona.Edad" />
            </div>
            <div class="form-group col-3">
                <label>Estatura:</label>
                <input class="form-control" type="number" step="0.01" @bind="@persona.Estatura" />
            </div>
            <div class="form-group col-3">
                <label>Peso:</label>
                <input class="form-control" type="text" step="0.01" @bind="@persona.Peso" />
            </div>
            <div class="form-group col-3">
                <label>Fecha de nacimiento:</label>
                <input class="form-control" type="date" @bind="@persona.FechaN" />
            </div>
            <div class="form-group col-3">
                <label>Activo:</label>
                <input class="form-control" type="checkbox" @bind="@persona.Activo" />
            </div>
            <div class="form-group col-3">
                <input class="btn btn-primary btn-block" type="submit" @onclick="_Agregar" value="Agregar" />
            </div>
            <div class="form-group col-3">
                <input class="btn btn-light btn-block" type="submit" @onclick="_Cancelar" value="Cancelar" />
            </div>
        </div>
    </div>
</EditForm>
@code {
    EPersona persona = new EPersona();
    protected void _Cancelar()
    {
        navigationManager.NavigateTo("/");
    }
    protected async Task _Agregar()
    {
        await PersonaService.AgregarAsync(persona);
        navigationManager.NavigateTo("/");
    }

}
